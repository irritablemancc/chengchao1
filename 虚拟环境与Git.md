# 虚拟环境与Git

### mvc网站架构

为了更好的开发我们的服务器，我们需要对我们的程序进行一些规划。

MVC     分别对应   view （视图）   controller（控制器）    model （模块）  这三个部分。

模块是直接和数据库连接的。

mvc 模式（model-view-controller） 是软件工程张的一种软件架构模式，把软件系统分为三个基本部分：

+ 模型（model），它是程序需要操作的数据或信息。
+ 视图 （view） ， 它是共给用户操作的界面，是程序的外壳。
+ 控制器（controller），它负责根据用户从视图层输入的指令，选择数据层中的数据，然后对其进行相应的操作，产生最终的结果。

这种模式的特点是构建简单，层次清晰，代码可复用性好，模版之间耦合低

对应到我们的服务器程序，简单来说，就是一些模块只负责前端页面的显示，另一些模块只负责数据模型的定义和数据的操作，其他模块负责连接这两部分，并进行必要的逻辑处理。

### 虚拟环境

实际工作中，我们可能同时要维护若干个项目，每个项目使用的软件包，版本可能都不一样，比如项目A使用tornado 4.3，而项目B 使用tornado 6.0.3。这时如将这两个版本同时装到全局的Python环境下会发生冲突的。

所以我们要为不同的项目单独设置它运行所需的环境，这就需要借助环境的管理。

1，安装

pip install virtualenv

2， 创建虚拟环境

```
cd ~/你的项目文件

# 创建虚拟环境
# 虚拟环境可以创建到任何位置，但一般与项目文件夹放到一起
virtualenv .venv
# 这里的 .venv 就是一个虚拟环境的名字
```

3, 加载虚拟环境

```
source ~/项目文件夹/.venv/bin/activate
# 激活虚拟环境，激活成功中，会在终端语句开头的前面有一个虚拟环境的名字前缀。
```

activate       刺激，使活跃

4，退出虚拟环境

```
deactivate     # 当开发完成之后，直接输入一个这个，就可以退出当前的虚拟环境。
```

deactivate    就是在activate的前面加一个 de  就行了。

### 版本控制工具与 Git

#####  版本控制工具的作用

1.能够追踪全部代码的状态‘

2.能够进行版本之间的差异对比

3.能够进行版本回滚

4.能够协助多个开发者进行代码合并

##### 常见的版本控制工具’

+ CVS：基本退出了历史的舞台
+ SVN：中心化的版本控制工具，需要有一台中心服务器。
+ git ：分布式的版本控制工具，中心服务器不再是必须的。
+ hg ： 纯python开发的版本控制工具
+ GIthub ：  依托Git而创建的一个平台，有独立的公司在运作。
+ 备注： 所有文本类的东西都可以交由版本控制工具来管理。

#### 历史

#### 起步

+ 配置自己的账号和邮箱

```
git config --global user.name  '你的名字'
git config --global user.name  '你的邮箱'
```

+ 设置要忽略的文件

对于不需要让Git追踪的文件可以在项目目录下创建   .gitignore 文件。

```
touch .gitignore    # 就是一个很简单的创建一个文件的方法。
```

.gitigonre 文件中可以写需要忽略的文件名， 如果是文件夹的话在后面添一个斜杠就可以了，也可以是某一类的=文件的通配符。

```
*.pyc
*.log
*.sqlite3
.DS_Store
.venv/
.idea/
__pycache__/
```

### 必须要掌握的Git命令

init       在本地初始化一个新的仓库      git init

add       添加到暂存区                    git add aaa bbb ccc/

commit    将暂存区的修改提交到本地仓库       git commit -m  '注释，不会对提交的内容产生任何影响'

push      将本地仓库的内容推送到远程仓库        git push

pull         将远程仓库的更新拉取到本地仓库       git pull

clone        将远程仓库克隆到本地           git  clone   http://test.cn/bar.git     （后面输入的是需要克隆仓库的地址）

branch      管理分支             git branch 分支名

checkout         切换分支/代码回滚/代码还原      git checkout  分支名 /  提交id / 代码文件名

diff          不同版本之间进行差异对比        git diff 版本1 版本2

merge           合并两个分支          git  merge  其他分支名

status           查看当前分支的状态         git  status

log              查看提交历史              git log

reset            代码重置/代码回滚/j将在暂存区的文件提取出来          git  reset    [需要从暂存区提取的文件]

blame           检查每行代码最后一次是谁修改的        git  blame

3,用游戏的方式联系 Git
